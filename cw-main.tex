\input{cw-config.tex}
\begin{document}
\lstset{language=[11]C++}

%title-page
\include{cw-titlepage}
\thispagestyle{empty}
\clearpage

\tableofcontents

\tcchapter{Введение}
В настоящее время в большом количестве прикладных и научных областей возникает необходимость решения задач, которые могут быть разрешены с помощью математики \cite{book:sloyer}, и, как частный случай, геометрии. Основные из них - производство различных деталей и конструкций, моделирование
различных объектов и явлений \cite[стр. 15]{book:kosnevsky}. В данных областях возникает потребность поиска эффективного решения
поставленных задач, что подразумевает выборку оптимального метода решения или соотношения между ними.

В основном геометрические задачи решаются алгебраически \cite{geom:methods}, т.е. для решения задачи достаточно решить некоторое уравнение или путем преобразований доказать истинность некоторого утверждения, то есть вычислить ответ (процесс доказательства тоже можно считать вычислением, основанном на законах логики \cite[стр. 8]{book:takeuti}).
Зачастую при решений задач строятся вспомогательные изображения, содержащие исходные данные и помогающие выявить взаимосвязи между различными объектами, а также в наглядной форме представить их свойства.

Метод комплексных чисел является расширением алгебраического метода.
Он позволяет представить геометрические объекты 2-мерной плоскости в виде набора комплексных
чисел и равенств, отражающих взаимосвязи между ними \cite[стр. 3]{book:arnold_complex}.\\
Данный метод достаточно контринтуитивен и сложен для самостоятельного изучения (особенно
непривычно выглядит спиральное подобие как геом. ипостась умножения),при этом он не рассматривается
в школах на уровне основной программы \cite{edu:problem},\cite[стр.6]{book:ponarin}.\\
Проблема состоит в том, что для данного метода отсутствуют материалы для внедрения в среду
самостоятельного и школьного обучения, включающие программы, облегчающие изучение метода.\\
% 1. Метод контринтуитивен и непривычен для учащихся (подготовить мат. для внедрения)
% 2. Особенно непривычно выглядит спиральное подобие как геом. ипостась умножения
Целью данной работы является изучение метода комплексных чисел при решении геометрических задач,
реализация программной верификации решения выбранных задач.\\
Для достижения цели необходимо выполнить следующие задачи:
\begin{enumerate}
   \item Изучить имеющиеся способы применения алгебры комплексных чисел при решении геометрических
         задач.
   \item Выбрать задачи, на которых будет рассматриваться практическое применение метода.
   \item Решение задач с применением метода комплексных чисел
   \item Реализация программной верификации решения задач с применением метода.
\end{enumerate}

\tcchapter{Основные обозначения}
Комплексное число \(z\) --- число вида $x + iy$, где $x,y \in \mathbf{R}, i = \sqrt{-1},z \in \mathbf{C},
   \mathbf{C}$ - поле комплексных чисел. У числа \(z\) можно выделить действительную $x = Re(z)$ и
мнимую $y=Im(z)$ части \cite[стр. 357]{book:semendyaev}.

На плоскости зададим прямоугольную декартову систему координат \(Oxy\) и отображение $f: M(x;y)
   \leftrightarrow z = x + iy$, где $M \in \mathbf{P}$ --- точка плоскости с координатами $x,y \in
   \mathbf{R}, \mathbf{P}$ --- множество точек евклидовой плоскости. Комплексное число $z$ называют
комплексной координатой соответствующей точки $M$ и пишут \(M(z)\).
Отображение \(f\) биективно. Метод комплексных чисел основан на данном факте. Таким образом,
свойства и операции комплексных чисел можно перенести на прямоугольную декартову систему
координат евклидовой плоскости.

При решении задач часто оказываются полезны следующие свойства комплексных чисел:
\begin{enumerate}
   \item Модуль числа $z = \vert z\vert = \sqrt{x_0^2+y_0^2} = r$ --- расстояние между точкой
         \(O\) и \(M\) (рис.~\ref{theory-1}). При этом \(z\bar{z} = |z|^2\).
   \item Если $\angle \varphi$ --- ориентированный, образованный $\overrightarrow{OM}$
         с осью \(Ox\), то $x_0 = r\cos \varphi,~y_0 = r\sin \varphi$ (из определения функций).
         Тогда $z_0 = r(\cos \varphi + i \sin \varphi)$. Такое представление комплексного
         числа называют тригонометрическим.
   \item arg $z$ = $\angle \varphi$.
   \item Если существует вектор \(\overrightarrow{OM}\) (точка \(O\) --- начало координат),
         то отображение \(M(z) \rightarrow OM\) биективно \cite[стр. 32]{book:jaglom}.
   \item Из свойств операций над векторами следует, что сумме и разности векторов однозначно
         соответствуют сумма и разность соответствующих им комплексных чисел.
   \item 2 точки коллинеарны тогда и только тогда, когда коллинеарны соответствующие им векторы. Векторы коллинеарны,
         если угол между ними \(= 0^\circ\) или \(180^\circ\), т.е arg \(z_1\) - arg \(z_2 = \pm \pi\). Т.к \(z_3\) с
         arg \(z_3 =\) arg \(z_1\) - arg \(z_2 = \pm \pi\) должно быть действительными, для коллинеарности двух точек
         достаточно выполнения условия
         \begin{equation*}
            \frac{a}{b} = \frac{\bar{a}}{\bar{b}}.
         \end{equation*}
   \item 2 точки перпендикулярны тогда и только тогда, когда перпендикулярны соответствующие им векторы. Векторы перпендикулярны,
         если угол между ними \(= 90^\circ\) или \(270^\circ\), т.е arg \(z_1\) - arg \(z_2 = \pm \frac{\pi}{2}\).Т.к \(z_3\) с
         arg \(z_3 =\) arg \(z_1\) - arg \(z_2 = \pm \frac{\pi}{2}\) должно быть чисто мнимым, для перпендикулярности 
         двух точек достаточно выполнения условия
         \begin{equation*}
            \frac{a}{b} = -\frac{\bar{a}}{\bar{b}}.
         \end{equation*}
   \item Расстояние между 2 точками соответствует длине вектора, построенного на этих двух
         точках. Таким образом, \(\overrightarrow{AB} = |a-b| = \sqrt{(a-b)(\bar{a}-\bar{b})}\). Т.к. окружность
         можно описать как "'множество точек \(z\), равноудаленных от центра \(a\) на расстояние \(R\) "',
         уравнение окружности имеет вид \((z-a)(\bar{z}-\bar{a}) = R^2\).
         \label{theory-properties}
\end{enumerate}
\begin{figure}[ht]
   \centering
   \includegraphics[width=0.5\textwidth]{images/theory-1.pdf}
   \caption{Изображение числа \(z\) на плоскости}
   \label{theory-1}
\end{figure}

\tcchapter{Решение и разбор задач с применением метода}
{
   \section*{Задача 1}
   \paragraph{Постановка задачи:}
   Точка \(D\) симметрична центру описанной около треугольника ABC окружности, относительно прямой AB.
   Доказать, что расстояние CD выражается формулой
   \begin{equation}
      CD^2 = R^2 +AC^2 + BC^2 - AB^2
      \label{t1:f1}
   \end{equation}
   где R - радиус описанной окружности.
   \begin{figure}[h]
      \centering
      \includegraphics[width=0.5\textwidth]{images/task1.png}
      \caption{Иллюстрация к задаче}
      \label{t1:im}
   \end{figure}
   \paragraph{Решение задачи:}
   За начало координат плоскости будем считать точку \(O\) --- центр описанной около треугольника \(ABC\)
   окружности. Уравнение данной окружности имеет вид \(z\bar{z} = |z|^2 = x^2 + y^2 = R^2\), где
   \(z \in \mathbf{C}\).
   Рассмотрим четырехугольник \(OADB\): \(OA = AD = OB = BD\)
   по условию задачи и отрезки \(AB, OD\) пересекаются под
   прямым углом, следовательно, \(OADB\) --- ромб. На основании
   данного факта верно следующее утверждение --- \(d = a + b\).
   Тогда
   \begin{equation}
      CD^2 =(d - c)(\bar{d} - \bar{c}) = (a + b - c)(\bar{a} +
      \bar{b} - \bar{c}) = 3R^2 + (a\bar{b} + \bar{a}b) - (a\bar{c} +
      \bar{a}c) - (b\bar{c} + \bar{b}c).
   \end{equation}
   Этому же выражению равна правая часть доказываемого
   равенства:
   \begin{equation}
      {
         \begin{aligned}
             & R^2 + AC^2 + BC^2 - AB^2 = R^2 + (a - c)(\bar{a} - \bar{c}) +
            (b - c)(\bar{b} - \bar{c}) - (a - b)(\bar{a} - \bar{b}) =        \\
             & = 3R^2 - (a\bar{c} + \bar{a}c) - (b\bar{c} + \bar{b}c) +
            (a\bar{b} + \bar{a}b)                                            \\
         \end{aligned}
      }
   \end{equation}
   Таким образом утверждение \ref{t1:f1} верно, что и требовалось доказать.

   \paragraph{Вычислительная иллюстрация на частном случае:}
   На вход программы передаются координаты свободных точек комплексной плоскости, в данном примере это
   координаты точек \(A,B,C\). Если \(A,B,C\) не лежат на одной прямой, то по данным входным данным
   строится описанная окружность и точки \(O, D\). Если условие \ref{t1:f1} выполняется, то задача
   считается решенной для данных входных данных и на экран выводятся координаты точек \(O, D\), а также
   координаты всех остальных. Блок-схема алгоритма приведена на Рис. \ref{t1:scheme}.
   \begin{center}
      \includegraphics[width=0.9\textwidth]{images/task1-diagram.png}
      \captionof{figure}{Блок-схема алгоритма программы}
      \label{t1:scheme}
   \end{center}
   \paragraph{Программная реализация задачи:}
   Решение задачи написано на языке C++ в виде части программы для решения задач из данной работы.
   Реализация алгоритма программы предоставлена в функции task1::solve (файл \filename{\taskFileName{1}}):
   \lstinputlisting[frame=none,caption={Функция task1::solve},label=task1-code,captionpos=b,firstline=14]{\taskFileName{1}}

   Программа поддерживает запуск нескольких заданий из командной строки. Для этого нужно через
   пробел ввести каждое из них (так, запуск приложения с параметрами '1 2 3 3') произведет
   последовательный запуск задач 1,2,3 (задача №3 запускается дважды). Для вывода информации
   в виде, пригодным для считывания сторонними программами, необходимо задать параметр '-d'
   (он должен быть первым. Пример: '-d 1 2').
   \paragraph{Демонстрация работы:}
   \vphantom{code}
   \begin{lstlisting}[language={},frame=none]
      [codetest] ./realease.app 1
      Task #1
      Enter coordinates of triangle's points:
       A: 0 0
       B: 4 0
       C: 2 3.24
      Computed coordinates:
       A: 0 + 0i
       B: 4 + 0i
       C: 2 + 3.24i
       D: 2 + -1i
       O: 2 + 1i
      -----
   \end{lstlisting}
}
{
   \section*{Задача 2}
   \paragraph{Постановка задачи:}
   Точка \(M\) --- середина дуги \(AB\) окружности. Доказать, что для произвольной точки N этой
   окружности имеет место
   равенство
   \begin{equation}
      \left\lvert AM^2-MN^2 \right\rvert = AN \cdot BN.
      \label{t2:f1}
   \end{equation}
   \paragraph{Решение задачи:}
   Пусть точкам \(A,B,M,N\) соответствуют комплексные числа \(a,b,m,n\). Для упрощения доказательства
   возьмем дугу \(AB\) такую, что \(a = \bar{b},b = \bar{a}\) и \(m = 1 + i0 = 1\) соответственно, и
   окружность радиуса \(r = 1\). За начало координат примем центр окружности (см рис. \ref{t2:im}).
   \begin{figure}[h]
      \centering
      \includegraphics[width=0.5\textwidth]{images/task2.png}
      \caption{Иллюстрация к доказательству}
      \label{t2:im}
   \end{figure}
   Тогда уравнение окружности имеет
   вид \(z \bar{z}=1\), и поэтому \(a=\bar{b}, b=\bar{a}\).

   Находим:
   \(AN \cdot BN = \left\lvert a-n \right\rvert \cdot \left\lvert b-n \right\rvert
   = \left\lvert (a-n)(\bar{a}-n)\right\rvert
   = \left\lvert a\bar{a} - na - n\bar{a} + n^2 \right\rvert
   = \left\lvert 1 + n^2 - n(a+\bar{a})\right\rvert.\)

   Так как \(AM^2 =(a-1)(\bar{a}-1)\) и \(MN^2 =(n-1)(\bar{n}-1)\), то
   \(\left\lvert AM^2 - MN^2 \right\rvert = \left\lvert n+\bar{n}-(a+\bar{a}) \right\rvert\).
   Умножив это равенство на \(\left\lvert n \right\rvert=1\), получим:
   \(\left\lvert AM^2 - MN^2 \right\rvert = \left\lvert n^2 +1-n(a+\bar{a})\right\rvert = AN \cdot BN\).
   \paragraph{Вычислительная иллюстрация на частном случае:}
   Строится окружность радиуса \(r = 1\). На вход программы передаются координаты свободных точек комплексной
   плоскости, в данном примере это координаты точек \(A,B,N\),
   а также вспомогательная точка \(T\) (\(T \in AB\)), которая нужна для однозначного построения дуги. Если \(A,B,N\)
   принадлежат построенной окружности, то по данным
   входным данным вычисляются координаты точки \(M\). Если условие задачи (\ref{t2:f1}) выполняется, то задача
   считается решенной для данных входных данных и на экран
   выводятся координаты точки \(M\), а также координаты всех остальных. Блок-схема алгоритма приведена на
   Рис. \ref{t2:scheme}.
   \begin{center}
      \includegraphics[width=0.9\textwidth]{images/task2-diagram.png}
      \captionof{figure}{Блок-схема алгоритма программы}
      \label{t2:scheme}
   \end{center}
   \paragraph{Программная реализация задачи:}
   Решение задачи написано на языке C++ в виде части программы для решения задач из данной работы.
   Реализация алгоритма программы предоставлена в функции task2::solve (файл \filename{\taskFileName{2}}):
   \lstinputlisting[frame=none,caption={Функция task2::solve},label=task2-code,captionpos=b,firstline=8]{\taskFileName{2}}
   \paragraph{Демонстрация работы:}
   \vphantom{code}
   \begin{lstlisting}[language={},frame=none]
      [codetest] ./realease.app 2
      Task #2
      Enter coordinates of a,b,n,t points (must conform x^2+y^2 = 1, t between a and b):
       A: 0.5 0.866
       B: 0.5 -0.866
       N: -1 0
       T: 0.707 0.707
      Computed coordinates:
       A: 0.5 + 0.87i
       B: 0.5 + -0.87i
       N: -1 + 0i
       T: 0.71 + 0.71i
       M: 1 + 0i
      -----
   \end{lstlisting}
}
{
   \section*{Задача 3}
   \paragraph{Постановка задачи:}
   Докажите, что сумма квадратов диагоналей параллелограмма
   равна сумме квадратов всех его сторон (Рис. \ref{t3:im}).
   Таким образом, требуется доказать, что
   \begin{equation}
      AD^2 + BC^2 = AB^2 +CD^2 + BD^2 + AC^2
      \label{t3:f1}
   \end{equation}
   \begin{figure}[h]
      \centering
      \includegraphics[width=0.7\textwidth]{images/task3.pdf}
      \caption{Иллюстрация к задаче}
      \label{t3:im}
   \end{figure}
   \paragraph{Решение задачи:}
   Зададим точку \(A(a) = 0 + i \cdot 0\).
   Тогда верны следующие утверждения: \(d = c + b\), \(\overrightarrow{CB} = b - c\).
   \begin{flalign}
      \label{t3:f2}
       & AB^2 + BD^2 + CD^2 + AC^2 = \left\lvert b\right\rvert^2 + \left\lvert c\right\rvert^2 + \left\lvert b\right\rvert^2 + \left\lvert c\right\rvert^2 = 2b\bar{b} + 2c\bar{c} &
   \end{flalign}
   \begin{flalign}
      \label{t3:f3}
       & AD^2 + BC^2 = \left\lvert d\right\rvert^2 + \left\lvert b - c\right\rvert^2 = d\bar{d} + (b-c)(\bar{b}-\bar{c}) = (c+b)(\bar{c}+\bar{c}) + b\bar{b} - b\bar{c} - & \\ \nonumber
       & - c\bar{b} + c\bar{c} = c\bar{c} + c\bar{b} + b\bar{c} + 2b\bar{b} + c\bar{c} - b\bar{c} - c\bar{b} = 2b\bar{b} + 2c\bar{c}                                      &
   \end{flalign}
   \noindent
   Таким образом, выражения (\ref{t3:f2}) и (\ref{t3:f3}) равны друг другу, что и требовалось доказать.

   \paragraph{Вычислительная иллюстрация на частном случае:}
   На вход программы передаются координаты свободных точек комплексной плоскости, в данном примере это координаты
   точек \(A,B,C\). Если \(A,B,C\) образуют треугольник, то по данным входным строится параллелограмм. Если
   условие задачи (\ref{t3:f1}) выполняется, то задача считается решенной для данных входных данных и на экран
   выводятся координаты точки \(D\), а также координаты всех остальных. Блок-схема алгоритма приведена
   на Рис. \ref{t3:scheme}.
   \begin{center}
      \includegraphics[width=0.9\textwidth]{images/task3-diagram.png}
      \captionof{figure}{Блок-схема алгоритма программы}
      \label{t3:scheme}
   \end{center}
   \paragraph{Программная реализация задачи:}
   Решение задачи написано на языке C++ в виде части программы для решения задач из данной работы.
   Реализация алгоритма программы предоставлена в функции task3::solve (файл \filename{\taskFileName{3}}):
   \lstinputlisting[frame=none,caption={Функция task3::solve},label=task3-code,captionpos=b,firstline=5]{\taskFileName{3}}
   \paragraph{Демонстрация работы:}
   \vphantom{code}
   \begin{lstlisting}[language={},frame=none]
      [codetest] ./realease.app 3
      Task #3
      Enter coordinates of triangle's points:
       A: 1 0
       B: 5 0
       C: 2 3
      Computed coordinates:
       A: 1 + 0i
       B: 5 + 0i
       C: 2 + 3i
       D: 6 + 3i
      -----
   \end{lstlisting}
}
{
   \section*{Задача 4}
   \paragraph{Постановка задачи:}
   Доказать, что если некоторая прямая пересекает прямые, содержащие стороны
   \(BC\), \(CA\), \(AB\) треугольника \(ABC\), в точках \(A_1\) , \(B_1\) , \(C_1\)
   соответственно, то середины отрезков \(AA_1\) , \(BB_1\) , \(CC_1\) коллинеарны (Рис. \ref{t5:im}).
   \begin{figure}[h]
      \centering
      \includegraphics[width=0.5\textwidth]{images/task4.png}
      \caption{Иллюстрация к задаче}
      \label{t4:im}
   \end{figure}
   \paragraph{Решение задачи:}
   Условие коллинеарности троек точек \(A, B_1, C\); \(C,
   A_1, B\); \(B, C_1,\) \(A\); \(A_1, B_1, C_1\):

   \begin{equation}
      \left\{ \begin{aligned}
          & a(\bar{b_1} - \bar{c}) + b_1(\bar{c} - \bar{a}) + c(\bar{a} - \bar{b_1}) = 0             \\
          & b(\bar{c_1} - \bar{a}) + c_1(\bar{a} - \bar{b}) + a(\bar{b} - \bar{c_1}) = 0             \\
          & c(\bar{a_1} - \bar{b}) + a_1(\bar{b} - \bar{c}) + b(\bar{c} - \bar{a_1}) = 0             \\
          & a_1(\bar{b_1} - \bar{a_1}) + b_1(\bar{a_1} - \bar{a_1}) + a_1(\bar{a_1} - \bar{b_1}) = 0 \\
      \end{aligned}
      \right. \label{t4:f1}
   \end{equation}
   Если \(M, N, P\) --- середины отрезков \(AA_1, BB_1, CC_1\), то предстоит показать, что
   \begin{equation}
      m(\bar{n} -\bar{p})+n(\bar{p}-\bar{m})+p(\bar{m}-\bar{n})=0,
      \label{t4:f2}
   \end{equation}
   Так как \(\displaystyle
   m=\frac{1}{2}(a+a_1),\;
   n=\frac{1}{2}(b+b_1),\;
   p=\frac{1}{2}(c+c_1)
   \), то доказываемое равенство (\ref{t4:f2}) эквивалентно такому:

   \(
   (a+a_1)(\bar{b}+\bar{b_1}-\bar{c}-\bar{c_1})+(b+b_1 )(\bar{c}+\bar{c_1}-\bar{a}-\bar{a_1})+(c+c_1)(\bar{a}+\bar{a_1}-\bar{b}-\bar{b_1})=0,
   \) или, после перемножения,
   \begin{equation}
      \begin{aligned}
          & a(\bar{b_1} - \bar{c}) + a(\bar{b}- \bar{c_1}) + a_1(\bar{b_1} - \bar{c_1}) + a_1(\bar{b}- \bar{c}) + b(\bar{c_1} - \bar{a}) + b(\bar{c}- \bar{a_1}) + \\
          & +b_1(\bar{c_1}-\bar{a_1})+b_1 (\bar{c}-\bar{a})+c(\bar{a_1}-\bar{b})+c(\bar{a}-\bar{b_1})+c_1 (\bar{a_1}-\bar{b_1} )+c_1(\bar{a}-\bar{b})=0.
      \end{aligned}
      \label{t4:f3}
   \end{equation}
   Теперь легко видеть, что (\ref{t4:f3}) получается при почленном сложении
   равенств (\ref{t4:f1})
   \paragraph{Вычислительная иллюстрация на частном случае:} На вход программы передаются координаты
   свободных точек комплексной плоскости, в данном примере это координаты точек \(A,B,C,A_1,B_1\). Если \(A_1,B_1\)
   лежат на треугольнике, то по данным входным данным строится прямая, соответствующая условиям задачи. Далее
   производится проверка того, что середины отрезков \(AA_1,BB_1,CC_1\) коллинеарны. Если условие выполняется, то задача
   считается решенной для данных входных данных и на экран выводятся координаты точек \(M,N,P\), а также координаты
   всех остальных. Блок-схема алгоритма приведена на Рис. \ref{t4:scheme}.
   \begin{center}
      \includegraphics[width=0.79\textwidth]{images/task4-diagram.png}
      \captionof{figure}{Блок-схема алгоритма программы}
      \label{t4:scheme}
   \end{center}

   \paragraph{Программная реализация задачи:} Решение задачи написано на языке C++ в виде части
   программы для решения задач из данной работы.
   Реализация алгоритма программы предоставлена в функции task4::solve (файл \filename{\taskFileName{4}}):
   \lstinputlisting[frame=none,caption={Функция task4::solve},label=task4-code,captionpos=b,firstline=5]{\taskFileName{4}}
   \paragraph{Демонстрация работы:}
   \vphantom{code}
   \begin{lstlisting}[language={},frame=none]
      [codetest] ./realease.app 4
      Task #4
      Enter coordinates of a,b,c,a1,b1 points:
       A: 0 0
       B: 10 0
       C: 8 10
       A1: 9.5 2.5
       B1: 4 5
      Computed coordinates:
       A: 0 + 0i
       B: 10 + 0i
       C: 8 + 10i
       A1: 9.5 + 2.5i
       B1: 4 + 5i
       C1: 15 + 0i
       M: 4.75 + 1.25i
       N: 7 + 2.5i
       P: 11.5 + 5i
      -----
   \end{lstlisting}
}
{
   \section*{Задача 5}
   \paragraph{Постановка задачи:}
   Докажите, что диагонали вписанного в окружность четырёхугольника перпендикулярны, тогда и только тогда,
   когда сумма квадратов его противоположных сторон равна квадрату диаметра описанной окружности (Рис.~\ref{t5:im}).
   Таким образом, требуется доказать, что
   \begin{equation}
      AB^2+CD^2 = AC^2+BD^2 = PB^2 \Rightarrow AD \perp CB
      \label{t5:f1}
   \end{equation}
   \begin{figure}[h]
      \centering
      \includegraphics[width=0.7\textwidth]{images/task5.pdf}
      \caption{Иллюстрация к задаче}
      \label{t5:im}
   \end{figure}
   \paragraph{Решение задачи:}
   Обозначим диаметр окружности как \(PB\); будем считать, что окружность единичная с центром в т.\(O\).

   Исходя из свойств комплексных чисел, верно следующее:
   \begin{equation*}
      AD \perp CB \Leftrightarrow (d-a)(\bar{b}-\bar{c})+(\bar{d}-\bar{a})(b-c) = 0
      \label{t5:f2}
   \end{equation*}

   Из условий задачи:
   \begin{equation}
      \left\{ \begin{aligned}
          & (a - b)(\bar{a} - \bar{b}) + (c - d)(\bar{c} - \bar{d}) = (p - b)(\bar{p} - \bar{b}) \\
          & (a - c)(\bar{a} - \bar{c}) + (b - d)(\bar{b} - \bar{d}) = (p - b)(\bar{p} - \bar{b}) \\
      \end{aligned}
      \right. \label{t5:f3}
   \end{equation}

   Почленно вычтя второе уравнение системы (\ref{t5:f3}) из первого, получаем:
   \begin{flalign*}
      \label{t5:f4}
       & a\bar{a} - a\bar{b} - b\bar{a} + b\bar{b} + c\bar{c} - c\bar{d} - d\bar{c} + d\bar{d} - a\bar{a} + a\bar{c} + c\bar{a} - c\bar{c} - b\bar{b} + b\bar{d} + & \\ \nonumber
       & + d\bar{b} - d\bar{d} = 0 \Leftrightarrow - a\bar{b} - b\bar{a} - c\bar{d} - d\bar{c} + a\bar{c} + c\bar{a} + b\bar{d} + d\bar{b} = 0 \Leftrightarrow     & \\ \nonumber
       & (d-a)(\bar{b}-\bar{c})+(\bar{d}-\bar{a})(b-c) = 0 \Leftrightarrow AD \perp CB                                                                             &
   \end{flalign*}
   Таким образом, утверждение (\ref{t5:f1}) доказано.
   \paragraph{Вычислительная иллюстрация на частном случае:} На вход программы передаются координаты
   свободных точек комплексной плоскости, в данном примере это координаты точек \(A,B,C,D\), по ним
   строится окружность. Если условие (\ref{t5:f1}) выполняется (вместо \(PB\) используется конструкция
   \(2OB\)), то задача считается решенной для данных входных данных и на экран выводятся
   координаты точки \(O\), а также координаты всех остальных. Блок-схема алгоритма приведена
   на Рис. \ref{t5:scheme}.
   \begin{center}
      \includegraphics[width=0.79\textwidth]{images/task5-diagram.png}
      \captionof{figure}{Блок-схема алгоритма программы}
      \label{t5:scheme}
   \end{center}

   \paragraph{Программная реализация задачи:} Решение задачи написано на языке C++ в виде части
   программы для решения задач из данной работы.
   Реализация алгоритма программы предоставлена в функции task5::solve (файл \filename{\taskFileName{5}}):
   \lstinputlisting[frame=none,caption={Функция task5::solve},label=task5-code,captionpos=b,firstline=5]{\taskFileName{5}}
   \paragraph{Демонстрация работы:}
   \vphantom{code}
   \begin{lstlisting}[language={},frame=none]
      [codetest] ./realease.app 5
      Task #5
      Enter coordinates of a,b,c,d points (must be points of quadrilateral):
       A: 0 -1
       B: 2 -1
       C: 0 1
       D: 2 1
      Computed coordinates:
       A: 0 + -1i
       B: 2 + -1i
       C: 0 + 1i
       D: 2 + 1i
       O: 1 + 0i
      -----
   \end{lstlisting}
}
{
   \section*{Задача 6}
   \paragraph{Постановка задачи:}
   Докажите, что если средние линии четырёхугольника равны,
   то его диагонали перпендикулярны, и обратно (Рис. \ref{t6:im}).
   \begin{figure}[h]
      \centering
      \includegraphics[width=0.5\textwidth]{images/task6.pdf}
      \caption{Иллюстрация к задаче}
      \label{t6:im}
   \end{figure}
   \paragraph{Решение задачи:}
   Точка \(O\) --- точка пересечения диагоналей четырёхугольника.
   Концы средних линий четырёхугольника имеют следующие координаты:
   \begin{equation}
      \frac{1}{2}(c+d),\frac{1}{2}(a+b),\frac{1}{2}(a+c),\frac{1}{2}(b+d).
      \label{t6:f1}
   \end{equation}
   Если средние линии четырёхугольника равны, то на основании (\ref{t6:f1}) и свойств комплексных
   чисел, при \(AD \neq 0, CB \neq 0\), получаем следующее:
   \begin{flalign*}
       & \left\lvert \frac{1}{2}(c+d) - \frac{1}{2}(a+b)\right\rvert = \left\lvert \frac{1}{2}(a+c) - \frac{1}{2}(b+d)\right\rvert \Leftrightarrow  \left(\frac{1}{2}(c+d) - \frac{1}{2}(a+b)\right) \cdot                                & \\
       & \left(\frac{1}{2}(\bar{c}+\bar{d}) - \frac{1}{2}(\bar{a}+\bar{b})\right) = \left(\frac{1}{2}(a+c) - \frac{1}{2}(b+d)\right) \cdot \left(\frac{1}{2}(\bar{a}+\bar{c}) - \frac{1}{2}(\bar{b}+\bar{d})\right) \Leftrightarrow       & \\
       & \frac{1}{2}\left((c+d) - (a+b)\right) \cdot \frac{1}{2}\left((\bar{c}+\bar{d}) - (\bar{a}+\bar{b})\right) = \frac{1}{2}\left((a+c) - (b+d)\right) \cdot \frac{1}{2}\left((\bar{a}+\bar{c}) - \vphantom{(\bar{c}+\bar{d})}\right. &
   \end{flalign*}
   \begin{flalign*}
       & \left. (\bar{b}+\bar{d})\vphantom{(\bar{c}+\bar{d})}\right) \Leftrightarrow                                                                                                                     & \\
       & \left(c + d - a - b\right) \cdot \left(\bar{c}+\bar{d} - \bar{a} - \bar{b}\right) = \left(a + c - b - d\right) \cdot \left(\bar{a} + \bar{c} - \bar{b} - \bar{d}\right) \Leftrightarrow         & \\
       & a\bar{c} - a\bar{b} + c\bar{a} - c\bar{d} - b\bar{a} + b\bar{d} - d\bar{c} + d\bar{b} = - a\bar{c} + a\bar{b} - c\bar{a} + c\bar{d} + b\bar{a} - b\bar{d} + d\bar{c} - d\bar{b} \Leftrightarrow & \\
       & a\bar{c} - a\bar{b} + c\bar{a} - c\bar{d} - b\bar{a} + b\bar{d} - d\bar{c} + d\bar{b} = 0 \Leftrightarrow                                                                                       & \\
       & (a-d)(\bar{c} - \bar{b}) + (c-b)(\bar{a} - \bar{d})  = 0                                                                                                                                        &
   \end{flalign*}

   Тогда \(2 \overrightarrow{AD} \overrightarrow{CB} = 0\Leftrightarrow \left\lvert AD\right\rvert
   \left\lvert CB\right\rvert \cos{\angle{COD}} \Leftrightarrow \angle{COD} = 90^\circ\),
   что и требовалось доказать.

   Если диагонали четырёхугольника перпендикулярны, то \(\angle{COD} = 90^\circ \Leftrightarrow \left\lvert AD\right\rvert \left\lvert CB\right\rvert \cos{\angle{COD}} = 0 \Leftrightarrow \overrightarrow{AD}\overrightarrow{CB}=
   0 \dots\)
   Дальнейшие рассуждения выполняются в порядке, обратном доказательству в случае, когда средние линии четырёхугольника равны.

   Таким образом, если средние линии четырёхугольника равны, то его диагонали перпендикулярны и наоборот.
   \paragraph{Вычислительная иллюстрация на частном случае:} На вход программы передаются координаты
   свободных точек комплексной плоскости, в данном примере это координаты вершин четырёхугольника
   \(A,B,C,D\) (выпуклого). Если средние линии четырёхугольника равны и его диагонали перпендикулярны,
   то задача считается решенной для данных входных данных и на экран выводятся координаты концов
   средних линий четырёхугольника, а также координаты всех остальных точек. Блок-схема алгоритма
   приведена на Рис. \ref{t6:scheme}.
   \begin{center}
      \includegraphics[width=0.9\textwidth]{images/task6-diagram.png}
      \captionof{figure}{Блок-схема алгоритма программы}
      \label{t6:scheme}
   \end{center}
   \paragraph{Программная реализация задачи:} Решение задачи написано на языке C++ в виде части
   программы для решения задач из данной работы.
   Реализация алгоритма программы предоставлена в функции task6::solve (файл \filename{\taskFileName{6}}):
   \lstinputlisting[frame=none,caption={Функция task6::solve},label=task6-code,captionpos=b,firstline=6]{\taskFileName{6}}
   \paragraph{Демонстрация работы:}
   \vphantom{code}
   \begin{lstlisting}[language={},frame=none]
      [codetest] ./realease.app 6
      Task #6
      Enter coordinates of a,b,c,d points (must be points of quadrilateral):
       A: 1 0
       B: 3 0
       C: 1 2
       D: 3 2
      Computed coordinates:
       A: 1 + 0i
       B: 3 + 0i
       C: 1 + 2i
       D: 3 + 2i
       O: 2 + 1i
       P1: 1 + 1i
       P2: 3 + 1i
       T1: 2 + 0i
       T2: 2 + 2i
      -----
   \end{lstlisting}
}
\tcchapter{Заключение}
В ходе выполнения работы изложены основы метода комплексных чисел, было проиллюстрировано его
применение при решении 6 задач. Каждая задача имеет вычислительную иллюстрацию,
реализованную в виде части программы на C++. Сама программа как целое --- консольное приложение,
поддерживающая следующие функции: множественный выбор заданий, вывод текста в разном формате (в режиме
отладки для считывания данных сторонними приложениями, а также в человеко-читаемом).

Метод имеет большие перспективы для применения в области решения геометрических
задач, особенно тех, в которых широко применяются единичные окружности, потому как в алгебре
комплексных чисел геометрические объекты, лежащие или принадлежащие таким окружностям выражаются
более простыми уравнениями, чем их канонические действительнозначные аналоги.

Таким образом, все поставленные задачи были успешно выполнены, цель
достигнута.
%bibliography
\input{cw-sources.tex}
\input{cw-appendix.tex}

\end{document}
