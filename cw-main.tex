\input{cw-config.tex}

\begin{document}
\lstset{language=[11]C++}

%title-page
\include{cw-titlepage}
\thispagestyle{empty}
\clearpage

\tableofcontents

\tcchapter{Введение}
В настоящее время в большом количестве прикладных и научных областей возникает необходимость решения геометрических задач.
Основные из них - производство различных деталей и конструкций, моделирование различных объектов и явлений.
В данных областях возникает потребность поиска эффективного решения поставленных задач, что подразумевает выборку оптимального метода решения или соотношения между ними. Основные методы решения задач следующие\cite{geom:methods}:
\begin{enumerate}
    \item Аналитический. Состоит в представлении входных и требуемых данных в виде набора переменных и констант и взаимосвязи между ними в виде алгебраических уравнений с последующим их решением. \label{gmethod:enum1}
    \item Графический. Состоит в построении рисунка, полноценно отражающего набор необходимых для решения задачи входных данных и взаимосвязей между ними. Решение состоит в последовательном применении известных фактов и теорем, приводящих к получению ответа.
    \item Комбинация двух предыдущих. При ручном решении применяется чаще всего.
\end{enumerate}
Метод комплексных чисел является расширением аналитического метода~(метод~№\ref{gmethod:enum1}).
Он позволяет представить геометрические объекты 2-мерной плоскости в виде набора комплексных чисел и равенств, отражающих взаимосвязи между ними.\\
Данный метод достаточно контринтуитивен и сложен для самостоятельного изучения (особенно непривычно выглядит спиральное подобие как геом. ипостась умножения),при этом он не рассматривается в школах на уровне основной программы \cite{edu:problem},\cite[стр.6]{book:ponarin}.\\
Проблема состоит в том, что для данного метода отсутствуют материалы для внедрения в среду самостоятельного и школьного обучения, включающие программы, облегчающие изучение метода.\\
% 1. Метод контринтуитивен и непривычен для учащихся (подготовить мат. для внедрения)
% 2. Особенно непривычно выглядит спиральное подобие как геом. ипостась умножения
Целью данной работы является изучение метода комплексных чисел при решении геометрических задач, реализация программной верификации решения выбранных задач.\\
Для достижения цели необходимо выполнить следующие задачи:
\begin{enumerate}
    \item Изучить имеющиеся способы применения алгебры комплексных чисел при решении геометрических задач.
    \item Выбрать задачи, на которых будет рассматриваться практическое применение метода.
    \item Решение задач с применением метода комплексных чисел
    \item Реализация программной верификации решения задач с применением метода.
\end{enumerate}

\tcchapter{Теория метода комплексных чисел}
Комплексное число \(z\) -- число вида $x + iy$, где $x,y \in \mathbf{R}, i = \sqrt{-1},z \in \mathbf{C}, \mathbf{C}$ - поле комплексных чисел. У числа \(z\) можно выделить действительную $x = Re(z)$ и мнимую $y=Im(z)$ части.

На плоскости зададим прямоугольную декартову систему координат \(Oxy\) и отображение $f: M(x;y) \leftrightarrow z = x + iy$, где $M \in \mathbf{P}$ -- точка плоскости с координатами $x,y \in \mathbf{R}, \mathbf{P}$ -- множество точек евклидовой плоскости. Комплексное число $z$ называют комплексной координатой соответствующей точки $M$ и пишут \(M(z)\).
Отображение \(f\) биективно. Метод комплексных чисел основан на данном факте. Таким образом, свойства и операции комплексных чисел можно перенести на прямоугольную декартову систему координат евклидовой плоскости.

Для примера рассмотрим некоторые из свойств:
\begin{enumerate}
    \item Модуль числа $z = \vert z\vert = \sqrt{x_0^2+y_0^2} = r$ -- расстояние между точкой \(O\) и \(M\) (рис. \ref{theory-1}).
    \item Если $\angle \varphi$ - ориентированный, образованный $\overrightarrow{OM}$ с осью \(Ox\), то $x_0 = r\cos \varphi,~y_0 = r\sin \varphi$ (из определения функций).
          Тогда $z_0 = r(\cos \varphi + i \sin \varphi)$. Такое представление комплексного числа называют тригонометрическим.
    \item arg $z$ = $\angle \varphi$
    \item Если на плоскости комплексных чисел заданы векторы $\overrightarrow{OA}$ и $\overrightarrow{OB}$, где O - начало координат,
\end{enumerate}
%TODO добавить признаки коллинеарности, дописать свойства
\begin{figure}[ht]
    \centering
    \includegraphics[width=0.33\textwidth]{images/theory-1}
    \caption{Изображение числа \(z\) на плоскости}
    \label{theory-1}
\end{figure}

\tcchapter{Решение и разбор задач с применением метода}
{
    \section*{Задача 1}
    \paragraph{Постановка задачи:}
    Точка \(D\) симметрична центру описанной около треугольника ABC окружности, относительно прямой AB.
    Доказать, что расстояние CD выражается формулой
    \begin{equation}
        CD^2 = R^2 +AC^2 + BC^2 - AB^2
        \label{t1:f1}
    \end{equation}
    где R - радиус описанной окружности.
    \begin{figure}[h]
        \centering
        \includegraphics[width=0.5\textwidth]{images/task1.png}
        \caption{Иллюстрация к задаче}
        \label{t1:im}
    \end{figure}
    \paragraph{Решение задачи:}
    За начало координат плоскости будем считать точку \(O\) -- центр описанной около треугольника \(ABC\) окружности.
    Уравнение данной окружности имеет вид \(z\bar{z} = |z|^2 = x^2 + y^2 = R^2\), где \(z \in \mathbf{C}\). %TODO insert reference to rule
    Рассмотрим четырехугольник \(OADB\): \(OA = AD = OB = BD\)
    по условию задачи и отрезки \(AB, OD\) пересекаются под
    прямым углом, следовательно, \(OADB\) -- ромб. На основании
    данного факта верно следующее утверждение -- \(d = a + b\).
    Тогда
    \begin{equation}
        CD^2 =(d - c)(\bar{d} - \bar{c}) = (a + b - c)(\bar{a} +
        \bar{b} - \bar{c}) = 3R^2 + (a\bar{b} + \bar{a}b) - (a\bar{c} +
        \bar{a}c) - (b\bar{c} + \bar{b}c).
    \end{equation}
    Этому же выражению равна правая часть доказываемого
    равенства:
    \begin{equation}
        {
            \begin{aligned}
                 & R^2 + AC^2 + BC^2 - AB^2 = R^2 + (a - c)(\bar{a} - \bar{c}) +
                (b - c)(\bar{b} - \bar{c}) - (a - b)(\bar{a} - \bar{b}) =        \\
                 & = 3R^2 - (a\bar{c} + \bar{a}c) - (b\bar{c} + \bar{b}c) +
                (a\bar{b} + \bar{a}b)                                            \\
            \end{aligned}
        }
    \end{equation}
    Таким образом утверждение \ref{t1:f1} верно, что и требовалось доказать.

    \paragraph{Алгоритм программного решения частного случая задачи:}
    На вход программы передаются координаты свободных точек комплексной плоскости, в данном примере это координаты точек \(A,B,C\). Если \(A,B,C\)не лежат на одной прямой, то по данным входным данным строится описанная окружность и точки \(O, D\). Если условие \ref{t1:f1} выполняется, то задача считается решенной для данных входных данных и на экран выводятся координаты точек \(O, D\), а также координаты всех остальных. Блок-схема алгоритма приведена на Рис. \ref{t1:scheme}.
    \begin{center}
        \includegraphics[width=0.9\textwidth]{images/task5-diagram.png}
        % TODO draw diagram
        \captionof{figure}{Блок-схема алгоритма программы}
        \label{t1:scheme}
    \end{center}
    \paragraph{Программная реализация задачи:}
    Решение задачи написано на языке C++ в виде части программы для решения задач из данной работы.
    Реализация алгоритма программы предоставлена в функции task1::solve (файл \filename{\taskFileName{1}}):
    \lstinputlisting[frame=none,caption={Функция task1},label=task1-code,captionpos=b,firstline=3]{\taskFileName{1}}
    \paragraph{Демонстрация работы:}
}
{
    \section*{Задача 2}
    \paragraph{Постановка задачи:}
    \paragraph{Решение задачи:}
    \paragraph{Алгоритм программного решения частного случая задачи:}
    \paragraph{Программная реализация задачи:}
    \paragraph{Демонстрация работы:}
}
{
    \section*{Задача 3}
    \paragraph{Постановка задачи:}
    \paragraph{Решение задачи:}
    \paragraph{Алгоритм программного решения частного случая задачи:}
    \paragraph{Программная реализация задачи:}
    \paragraph{Демонстрация работы:}
}
{
    \section*{Задача 4}
    \paragraph{Постановка задачи:}
    \paragraph{Решение задачи:}
    \paragraph{Алгоритм программного решения частного случая задачи:}
    \paragraph{Программная реализация задачи:}
    \paragraph{Демонстрация работы:}
}
{
    \section*{Задача 5}
    \paragraph{Постановка задачи:}
    Доказать, что если некоторая прямая пересекает прямые, содержащие стороны \(BC\), \(CA\), \(AB\) треугольника \(ABC\), в точках \(A_1\) , \(B_1\) , \(C_1\) соответственно, то середины отрезков \(AA_1\) , \(BB_1\) , \(CC_1\) коллинеарны.
    \begin{figure}[h]
        \centering
        \includegraphics[width=0.5\textwidth]{images/task5.png}
        \caption{Иллюстрация к задаче}
        \label{t5:im}
    \end{figure}
    \paragraph{Решение задачи:}
    %FIXME Для решения данной задачи требуется найти достаточные критерии коллинеарности точек 3 точек.
    Условие коллинеарности троек точек \(A, B_1 , C\); \(C,
    A_1 , B\); \(B, C_1 , A\); \(A_1 , B_1 , C_1\):

    \begin{equation}
        \left\{ \begin{aligned}
             & a(\bar{b_1} - \bar{c}) + b_1(\bar{c} - \bar{a}) + c(\bar{a} - \bar{b_1}) = 0             \\
             & b(\bar{c_1} - \bar{a}) + c_1(\bar{a} - \bar{b}) + a(\bar{b} - \bar{c_1}) = 0             \\
             & c(\bar{a_1} - \bar{b}) + a_1(\bar{b} - \bar{c}) + b(\bar{c} - \bar{a_1}) = 0             \\
             & a_1(\bar{b_1} - \bar{a_1}) + b_1(\bar{a_1} - \bar{a_1}) + a_1(\bar{a_1} - \bar{b_1}) = 0 \\
        \end{aligned}
        \right. \label{t5:f1}
    \end{equation}
    Если \(M, N, P\) -- середины отрезков \(AA_1, BB_1, CC_1\), то предстоит показать, что
    \begin{equation}
        m(\bar{n} -\bar{p})+n(\bar{p}-\bar{m})+p(\bar{m}-\bar{n})=0,
        \label{t5:f2}
    \end{equation}
    Так как \(\displaystyle
    m=\frac{1}{2}(a+a_1),\;
    n=\frac{1}{2}(b+b_1),\;
    p=\frac{1}{2}(c+c_1)
    \), то доказываемое равенство (\ref{t5:f2}) эквивалентно такому:

    \(
    (a+a_1)(\bar{b}+\bar{b_1}-\bar{c}-\bar{c_1})+(b+b_1 )(\bar{c}+\bar{c_1}-\bar{a}-\bar{a_1})+(c+c_1)(\bar{a}+\bar{a_1}-\bar{b}-\bar{b_1})=0,
    \) или, после перемножения,
    \begin{equation}
        \begin{aligned}
             & a(\bar{b_1} - \bar{c}) + a(\bar{b}- \bar{c_1}) + a_1(\bar{b_1} - \bar{c_1}) + a_1(\bar{b}- \bar{c}) + b(\bar{c_1} - \bar{a}) + b(\bar{c}- \bar{a_1}) + \\
             & +b_1(\bar{c_1}-\bar{a_1})+b_1 (\bar{c}-\bar{a})+c(\bar{a_1}-\bar{b})+c(\bar{a}-\bar{b_1})+c_1 (\bar{a_1}-\bar{b_1} )+c_1(\bar{a}-\bar{b})=0.
        \end{aligned}
        \label{t5:f3}
    \end{equation}
    Теперь легко видеть, что (\ref{t5:f3}) получается при почленном сложении
    равенств (\ref{t5:f1})
    \paragraph{Алгоритм программного решения частного случая задачи:} На вход программы передаются координаты свободных точек комплексной плоскости, в данном примере это координаты точек \(A,B,C,A_1,B_1\). Если \(A_1,B_1\) лежат на треугольнике, то по данным входным данным строится прямая, соответствующая условиям задачи. Далее производится проверка того, что середины отрезков \(AA_1,BB_1,CC_1\) коллинеарны. Если условие выполняется,то задача считается решенной для данных входных данных и на экран выводятся координаты точек \(M,N,P\), а также координаты всех остальных. Блок-схема алгоритма приведена на Рис. \ref{t5:scheme}.
    \begin{center}
        \includegraphics[width=0.9\textwidth]{images/task5-diagram.png}
        \captionof{figure}{Блок-схема алгоритма программы}
        \label{t5:scheme}
    \end{center}

    \paragraph{Программная реализация задачи:} Решение задачи написано на языке C++ в виде части программы для решения задач из данной работы.
    Реализация алгоритма программы предоставлена в функции task5::solve (файл \filename{\taskFileName{5}}):
    \lstinputlisting[frame=none,caption={Функция task5},label=task1-code,captionpos=b,firstline=3]{\taskFileName{5}}
    \paragraph{Демонстрация работы:}
    Здесь будут скриншоты работы.
}
{
\section*{Задача 6}
\paragraph{Постановка задачи:}
\paragraph{Решение задачи:}
\paragraph{Алгоритм программного решения частного случая задачи:}
\paragraph{Программная реализация задачи:}
\paragraph{Демонстрация работы:}
}
{
\section*{Задача 7}
\paragraph{Постановка задачи:}
\paragraph{Решение задачи:}
\paragraph{Алгоритм программного решения частного случая задачи:}
\paragraph{Программная реализация задачи:}
\paragraph{Демонстрация работы:}
}
{
\section*{Задача 8}
\paragraph{Постановка задачи:}
\paragraph{Решение задачи:}
\paragraph{Алгоритм программного решения частного случая задачи:}
\paragraph{Программная реализация задачи:}
\paragraph{Демонстрация работы:}
}{
\section*{Задача 9}
\paragraph{Постановка задачи:}
\paragraph{Решение задачи:}
\paragraph{Алгоритм программного решения частного случая задачи:}
\paragraph{Программная реализация задачи:}
\paragraph{Демонстрация работы:}
}
\tcchapter{Заключение}
В ходе выполнения работы изложены основы метода комплексных чисел, было проиллюстрировано его применение при решении 3 задач. Каждая задача имеет решение на языке C++.


Таким образом, все поставленные задачи были успешно выполнены, цель
достигнута.
%bibliography
\input{cw-sources.tex}
\input{cw-appendix.tex}

\end{document}
